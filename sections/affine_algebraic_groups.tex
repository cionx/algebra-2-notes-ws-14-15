\chapter{Affine Algebraic Groups}





\section{Definition and First Examples}

\begin{definition}
  An \emph{affine algebraic group} is an affine variety~$G$ together with morphisms
  \[
            m
    \colon  G \times G
    \to     G
    \quad\text{and}\quad
            i
    \colon  G
    \to     G
  \]
  and an element~$e \in G$ such that~$G$ is a group with respect to the multiplication given by~$m$ with inverse map~$i$ and neutral element~$e$.
  In other words, the following diagrams need to commute:
  \[
    \renewcommand{\arraystretch}{1.5}
    \renewcommand{\arraycolsep}{3.3pt}
    \begin{array}{ccc}
        \begin{tikzcd}[column sep = 30pt, row sep = 35pt]
            G \times G \times G
            \arrow{r}[above]{m \times {\id}}
            \arrow{d}[left]{{\id} \times m}
          & G \times G
            \arrow{d}[right]{m}
          \\
            G \times G
            \arrow{r}[below]{m}
          & G
        \end{tikzcd}
      &
        \begin{tikzcd}[column sep = 10pt, row sep = 9pt]
            {}
          & G \times G
            \arrow{dd}[right]{m}
          & {}
          \\
            G \times \{e\}
            \arrow[hook]{ur}
            \arrow[two heads]{dr}[below left]{\operatorname{pr}_1}
          & {}
          & \{e\} \times G
            \arrow[hook']{ul}
            \arrow[two heads]{dl}[below right]{\operatorname{pr}_2}
          \\
            {}
          & G
          & {}
        \end{tikzcd}
      &
        \begin{tikzcd}[column sep = 3pt, row sep = 9pt]
            G
            \arrow{rr}[above]{(i,\id)}
            \arrow{dd}[left]{(\id,i)}
            \arrow{dr}
          & {}
          & G \times G
            \arrow{dd}[right]{m}
          \\
            {}
          & \{e\}
            \arrow[hook]{dr}
          & {}
          \\
            G \times G
            \arrow{rr}[below]{m}
          & {}
          & G
        \end{tikzcd}
    \\
        \text{associativity}
      & \text{neutral element}
      & \text{inverse}
    \end{array}
  \]
\end{definition}


\begin{remark}
  If~$\mc{C}$ is any category with finite products, including a terminal object~$\ast$, then a \emph{group object} in~$\mc{C}$ is an object~$G \in \mc{C}$ together with morphisms
  \[
    m \colon G \times G \to G \,,
    \qquad
    i \colon G \to G \,,
    \qquad
    e \colon \ast \to G
  \]
  such that the following diagrams commute:
  \[
    \renewcommand{\arraystretch}{1.5}
    \renewcommand{\arraycolsep}{4pt}
    \begin{array}{ccc}
        \begin{tikzcd}[row sep = 36pt, column sep = 30pt]
            G \times G \times G
            \arrow{r}[above]{m \times {\id}}
            \arrow{d}[left]{{\id} \times m}
          & G \times G
            \arrow{d}[right]{m}
          \\
            G \times G
            \arrow{r}[below]{m}
          & G
        \end{tikzcd}
      &
        \begin{tikzcd}[row sep = 10pt, column sep = 15pt]
            {}
          & G \times G
            \arrow{dd}[right]{m}
          & {}
          \\
            G \times *
            \arrow{ur}[above left]{\id \times e}
            \arrow{dr}[below left]{\operatorname{pr}_1}
          & {}
          & * \times G
            \arrow{ul}[above right]{e \times \id}
            \arrow{dl}[below right]{\operatorname{pr}_2}
          \\
            {}
          & G
          & {}
        \end{tikzcd}
      &
        \begin{tikzcd}[row sep = 12pt, column sep = 10pt]
            G
            \arrow{rr}[above]{(i,\id)}
            \arrow{dd}[left]{(\id,i)}
            \arrow{dr}
          & {}
          & G \times G
            \arrow{dd}[right]{m}
          \\
            {}
          & *
            \arrow{dr}{e}
          & {}
          \\
            G \times G
            \arrow{rr}[below]{m}
          & {}
          & G
        \end{tikzcd}
    \\
        \text{associativity}
      & \text{neutral \enquote{element}}
      & \text{inverse}
    \end{array}
  \]
\end{remark}


\begin{example}
  \leavevmode
  \begin{enumerate}
    \item
      The group objects in the category of sets are just groups.
    \item
      The group objects in the category of topological spaces are topological groups.
    \item
      The group objects in the category of smooth real manifolds are real Lie groups.
    \item
      The group objects in the category of affine varieties are affine algebraic groups.
  \end{enumerate}
\end{example}


\begin{warning}
  An affine algebraic group~$G$ is in general not a topological group.
  While the multiplication~$m \colon G \times G \to G$ is a morphism of affine varieties and therefore continuous, it is so with respect to the Zariski topology on $G \times G$.
  For~$G$ to be a topological group we would need~$m$ to be continuous with respect to the product topololgy of~$G \times G$, which is in general coarser than the Zariski topology (see \cref{zariski finer than product topology}).
\end{warning}











% TODO: Add some of this back in.
% 
% \begin{definition}
%   Let~$X,Y$ be affine varities with~$X \subseteq \Aff^n$ and~$Y \subseteq \Aff^m$.
%   \begin{enumerate}
%     \item
%     A function~$f \colon X \to k = \Aff^1$ is \emph{rational} if there exist polynomial functions~$g, h \colon X \to k$ such that~$h(x) \neq 0$ for every~$x \in X$ and~$f(x) = g(x)/h(x)$ for every~$x \in X$.
%     \item
%       A map~$f \colon X \to \Aff^n$ is \emph{rational} if it rational in each coordinate.
%     \item
%       A map~$f \colon X \to Y$ is \emph{rational} if it is the restriction of a rational map~$X \to \Aff^m$.
%   \end{enumerate}
% \end{definition}
% 
% 
% \begin{lemma}
%   Let~$X, Y, Z$ be affine varieties.
%   \begin{enumerate}
%     \item
%       The identity map~$\id_X \colon X \to X$ is a rational.
%     \item
%       For every two morphisms~$f \colon X \to Y$ and~$g \colon Y \to Z$ their composition~$g \circ f \colon X \to Z$ is again rational.
%   \end{enumerate}
% \end{lemma}
% 
% 
% \begin{fluff}
%   Let~$X$ be an affine algebraic variety.
%   The rational functions
%   \[
%               R
%     \defined  \{
%                 f \colon X \to k
%               \suchthat
%                 \text{$f$ is rational}
%               \}
%   \]
%   form a ring via pointwise addition and multiplication of functions.
%   Every polynomial map~$X \to k$ is also rational, so we can regard~$\coord(X)$ as a subring of~$R$.
%   The set
%   \[
%               S
%     \defined  \{
%                 f \in \coord(X)
%               \suchthat
%                 \text{$f(x) \neq 0$ for every~$x \in X$}
%               \}
%   \]
%   is a multiplicative subset of the ring~$\coord(X)$ and the inclusion~$i \colon \coord(X) \to R$ induces a ring homomorphism
%   \[
%             j
%     \colon  S^{-1} \coord(X)
%     \to     R \,,
%     \quad   \frac{g}{h}
%     \mapsto \frac{g}{h} \,\cdotp
%   \]
%   The homomorphism~$j$ is surjective by definition of~$R$
%   It is also injective because for every~$g/h \in \ker(j)$ it holds that~$g(x)/h(x) = 0$ for every~$x \in X$, thus~$g(x) = 0$ for every~$x \in X$ and therefore~$g = 0$.
%   
%   This shows the we can regard the ring of rational functions~$X \to k$ as the localization of the coordinate ring~$\coord(X)$ at the multiplicative set~$S$.
%   
%   For every ideal family of elements 
% \end{fluff}
% 
% 
% 
% \begin{lemma}
%   \label{preimage of standard open sets under morphisms}
%   If~$\varphi \colon X \to Y$ is rational then~$\varphi^{-1}(\Dopen(f)) = \Dopen(f \circ \varphi)$ for every~$f \in \coord(Y)$.
% \end{lemma}
% 
% 
% \begin{proof}
%   It holds for every~$x \in X$ that
%   \[
%           x \in \varphi^{-1}(\Dopen(f))
%     \iff  \varphi(x) \in \Dopen(f)
%     \iff  f(\varphi(x)) \neq 0
%     \iff  x \in \Dopen(f \circ \varphi)
%   \]
%   as claimed.
% \end{proof}
% 
% 
% \begin{corollary}
%   Every morphism of affine varities~$\varphi \colon X \to Y$ is Zariski continuous.
% \end{corollary}
% 
% 
% \begin{proof}
%   This follows from \cref{preimage of standard open sets under morphisms} because the standard open sets~$\Dopen(f)$,~$f \in \coord(Y)$ form a basis of the Zariski topology of~$Y$.
% \end{proof}



